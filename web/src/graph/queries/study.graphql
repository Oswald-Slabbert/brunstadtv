fragment Task on Task {
    __typename
    id
    title
    completed
    ... on AlternativesTask {
        alternatives {
            title
            isCorrect
        }
    }
}

fragment LessonLink on Link {
    image
    title
    description
    url
}

query getStudyLesson($id: ID!) {
    studyLesson(id: $id) {
        id
        title
        progress {
            total
            completed
        }
        tasks {
            items {
                ...Task
            }
        }
        episodes {
            items {
                id
                title
                image
            }
        }
        links {
            items {
                ...LessonLink
            }
        }
    }
}

mutation completeTask($taskId: ID!) {
    completeTask(id: $taskId)
}

mutation sendTaskMessage($taskId: ID!, $message: String!) {
    sendTaskMessage(taskId: $taskId, message: $message)
}
